moyenne_ventes = mean(Sales, na.rm = TRUE),
total_ventes = sum(Sales, na.rm = TRUE)
)
knitr::opts_chunk$set(echo = TRUE)
# Charger les librairies utiles
library(dplyr)
library(ggplot2)
library(lubridate)
library(tidyverse)   # inclut dplyr, ggplot2, tidyr, readr, etc.
library(lubridate)   # pour manipuler les dates
# Importer le fichier
data <- read.csv("SuperMarket Analysis.csv")
# Aperçu des données
head(data)
str(data)
data <- data %>%
mutate(
Date = mdy(Date),                 # format mois/jour/année
Month = month(Date, label = TRUE),
Weekday = wday(Date, label = TRUE)
)
View(data)
View(data)
# Option : afficher les 10 premières lignes
data %>% slice(1:10)
print(data)
glimpse(data)
# Afficher tout le tableau dans la console (attention si beaucoup de lignes)
print(data)
# Voir les premières lignes
head(data)
# Voir les premières lignes
head(data)
knitr::opts_chunk$set(echo = TRUE)
# Charger les librairies utiles
library(dplyr)
library(ggplot2)
library(lubridate)
library(tidyverse)   # inclut dplyr, ggplot2, tidyr, readr, etc.
library(lubridate)   # pour manipuler les dates
# Importer le fichier
data <- read.csv("SuperMarket Analysis.csv")
# Aperçu des données
head(data)
str(data)
data <- data %>%
mutate(
Date = mdy(Date),                 # format mois/jour/année
Month = month(Date, label = TRUE),
Weekday = wday(Date, label = TRUE)
)
# Dimensions
data %>% summarise(nb_lignes = n(), nb_colonnes = ncol(.))
# Valeurs manquantes par colonne
data %>% summarise(across(everything(), ~sum(is.na(.))))
# Statistiques descriptives sur les ventes
data %>% summarise(
min_ventes = min(Sales, na.rm = TRUE),
max_ventes = max(Sales, na.rm = TRUE),
moyenne_ventes = mean(Sales, na.rm = TRUE),
total_ventes = sum(Sales, na.rm = TRUE)
)
# Vérifier les valeurs aberrantes
data %>% summarise(min_sales = min(Sales), max_sales = max(Sales))
# ---- 3. Vérifier la cohérence des types ----
glimpse(data)
# ---- 1. Vérifier les valeurs manquantes ----
data %>% summarise(across(everything(), ~sum(is.na(.))))
# ---- 2. Vérifier les valeurs aberrantes ----
# Ventes (Sales) : minimum, maximum
data %>% summarise(
min_sales = min(Sales, na.rm = TRUE),
max_sales = max(Sales, na.rm = TRUE)
)
# Prix unitaire (Unit price)
data %>% summarise(
min_price = min(`Unit price`, na.rm = TRUE),
max_price = max(`Unit price`, na.rm = TRUE)
)
str(data)
# Charger les librairies utiles
library(dplyr)
library(ggplot2)
library(lubridate)
library(tidyverse)   # inclut dplyr, ggplot2, tidyr, readr, etc.
library(lubridate)   # pour manipuler les dates
# Importer le fichier
data <- read.csv("SuperMarket Analysis.csv")
# Aperçu des données
head(data)
str(data)
# Compter les valeurs manquantes par colonne
data %>% summarise(across(everything(), ~sum(is.na(.))))
# Vérifier les bornes des variables numériques
data %>% summarise(
min_sales = min(Sales, na.rm = TRUE),
max_sales = max(Sales, na.rm = TRUE),
min_price = min(`Unit price`, na.rm = TRUE),
max_price = max(`Unit price`, na.rm = TRUE),
min_qty = min(Quantity, na.rm = TRUE),
max_qty = max(Quantity, na.rm = TRUE)
)
data %>% summarise(
min_price = min(`Unit price`, na.rm = TRUE),
max_price = max(`Unit price`, na.rm = TRUE)
)
# Compter les valeurs manquantes par colonne
data %>% summarise(across(everything(), ~sum(is.na(.))))
library(tidyverse)
# 1. Renommer les colonnes pour éviter les espaces
data <- data %>%
rename(
Unit_price = `Unit price`,
Product_line = `Product line`,
Customer_type = `Customer type`,
Gross_income = `gross income`,
Gross_margin_percentage = `gross margin percentage`
)
data %>% summarise(
min_sales = min(Sales, na.rm = TRUE),
max_sales = max(Sales, na.rm = TRUE),
min_price = min(Unit_price, na.rm = TRUE),
max_price = max(Unit_price, na.rm = TRUE),
min_qty = min(Quantity, na.rm = TRUE),
max_qty = max(Quantity, na.rm = TRUE),
min_income = min(Gross_income, na.rm = TRUE),
max_income = max(Gross_income, na.rm = TRUE)
)
# Charger les librairies
library(tidyverse)
library(lubridate)
# 1. Importer le dataset
data <- read_csv("SuperMarket Analysis.csv")
# 2. Inspection des données
head(data)          # premières lignes
glimpse(data)       # structure des colonnes
summary(data)       # statistiques descriptives
colnames(data)      # noms exacts des colonnes
# 3. Renommer les colonnes pour éviter les espaces et caractères spéciaux
data <- data %>%
rename(
Invoice_ID = `Invoice ID`,
Branch = Branch,
City = City,
Customer_type = `Customer type`,
Gender = Gender,
Product_line = `Product line`,
Unit_price = `Unit price`,
Quantity = Quantity,
Tax_5 = `Tax 5%`,
Sales = Sales,
Date = Date,
Time = Time,
Payment = Payment,
COGS = cogs,
Gross_margin_percentage = `gross margin percentage`,
Gross_income = `gross income`,
Rating = Rating
)
# 4. Détection des valeurs manquantes
data %>% summarise(across(everything(), ~sum(is.na(.))))
# 5. Gestion des valeurs aberrantes (bornes min/max)
data %>% summarise(
min_sales = min(Sales, na.rm = TRUE),
max_sales = max(Sales, na.rm = TRUE),
min_price = min(Unit_price, na.rm = TRUE),
max_price = max(Unit_price, na.rm = TRUE),
min_qty = min(Quantity, na.rm = TRUE),
max_qty = max(Quantity, na.rm = TRUE),
min_income = min(Gross_income, na.rm = TRUE),
max_income = max(Gross_income, na.rm = TRUE)
)
# 6. Suppression des doublons
data <- data %>% distinct()
# 7. Conversion des types
data <- data %>%
mutate(
Date = mdy(Date),                       # convertir en Date
Sales = as.numeric(Sales),
Quantity = as.numeric(Quantity),
Unit_price = as.numeric(Unit_price),
Gross_income = as.numeric(Gross_income),
Product_line = as.factor(Product_line),
City = as.factor(City),
Customer_type = as.factor(Customer_type),
Gender = as.factor(Gender),
Payment = as.factor(Payment)
)
# Vérification finale
glimpse(data)
data <- data %>%
rename(
Invoice_ID = `Invoice ID`,
Branch = Branch,
City = City,
Customer_type = `Customer type`,
Gender = Gender,
Product_line = `Product line`,
Unit_price = `Unit price`,
Quantity = Quantity,
Tax_5 = `Tax 5%`,
Sales = Sales,
Date = Date,
Time = Time,
Payment = Payment,
COGS = cogs,
Gross_margin_percentage = `gross margin percentage`,
Gross_income = `gross income`,
Rating = Rating
)
library(tidyverse)
# Vérifier les bornes des variables numériques
data %>% summarise(
min_sales = min(Sales, na.rm = TRUE),
max_sales = max(Sales, na.rm = TRUE),
min_price = min(`Unit price`, na.rm = TRUE),
max_price = max(`Unit price`, na.rm = TRUE),
min_qty = min(Quantity, na.rm = TRUE),
max_qty = max(Quantity, na.rm = TRUE),
min_income = min(`gross income`, na.rm = TRUE),
max_income = max(`gross income`, na.rm = TRUE)
)
# 1. Vérifier les noms de colonnes
colnames(data)
# 2. Renommer les colonnes pour simplifier le code
data <- data %>%
rename(
Unit_price = `Unit price`,
Product_line = `Product line`,
Customer_type = `Customer type`,
Gross_income = `gross income`
)
# Charger les librairies utiles
library(dplyr)
library(ggplot2)
library(lubridate)
library(tidyverse)   # inclut dplyr, ggplot2, tidyr, readr, etc.
library(lubridate)   # pour manipuler les dates
# Importer le fichier
data <- read.csv("SuperMarket Analysis.csv")
# Aperçu des données
head(data)
str(data)
# Chargement des packages
library(tidyverse) # Pour la manipulation et la visualisation
library(lubridate) # Pour gérer les dates
# Importation des données
df <- read.csv("SuperMarket Analysis.csv")
# Aperçu des données
glimpse(df)
# Installation si nécessaire : install.packages("DT")
library(DT)
# Liste des packages nécessaires
packages <- c("tidyverse", "DT", "lubridate", "kableExtra", "scales")
# Installation des packages manquants
installed_packages <- packages %in% rownames(installed.packages())
if (any(installed_packages == FALSE)) {
install.packages(packages[!installed_packages])
}
# Chargement des librairies
library(tidyverse)  # Manipulation de données et graphiques (ggplot2)
library(DT)         # Tableaux interactifs
library(lubridate)  # Gestion des dates
library(kableExtra) # Mise en forme des tableaux pour rapports
library(scales)     # Formatage des nombres (ex: $)
# Chargement des données
df <- read.csv("SuperMarket Analysis.csv", check.names = FALSE)
# Affichage interactif haute qualité
datatable(df,
caption = 'Base de données complète : Ventes Supermarché',
filter = 'top', # Ajoute des filtres en haut de chaque colonne
extensions = 'Buttons',
options = list(
pageLength = 10,       # Affiche 10 lignes par défaut
autoWidth = TRUE,
dom = 'Bfrtip',        # Ajoute des boutons d'exportation
buttons = c('copy', 'csv', 'excel', 'pdf')
))
df <- read.csv("SuperMarket Analysis.csv", check.names = FALSE)
kable(head(df, 10), caption = "Aperçu des 10 premières transactions du Supermarché")
df <- read.csv("SuperMarket Analysis.csv", check.names = FALSE)
(head(df, 10)
df <- read.csv("SuperMarket Analysis.csv", check.names = FALSE)
head(data)
df <- read.csv("SuperMarket Analysis.csv", check.names = FALSE)
data %>% slice(1:10)
# a. Suppression des colonnes inutiles (comme l'ID de facture qui ne sert pas au calcul)
df_clean <- df %>% select(-`Invoice ID`)
# b. Conversion de la colonne Date (format initial : MM/DD/YYYY)
df_clean$Date <- as.Date(df_clean$Date, format="%m/%d/%Y")
# c. Conversion des colonnes textuelles en "Facteurs" (Catégories)
# Cela permet à R de comprendre que 'City' ou 'Gender' sont des groupes
df_clean <- df_clean %>%
mutate(
Branch = as.factor(Branch),
City = as.factor(City),
`Customer type` = as.factor(`Customer type`),
Gender = as.factor(Gender),
`Product line` = as.factor(`Product line`),
Payment = as.factor(Payment)
)
# d. Vérification des valeurs manquantes (NA)
manquants <- colSums(is.na(df_clean))
print("Nombre de valeurs manquantes par colonne :")
print(manquants)
# e. Vérification des doublons
doublons <- sum(duplicated(df_clean))
print(paste("Nombre de lignes en double :", doublons))
# a. Suppression des colonnes inutiles (comme l'ID de facture qui ne sert pas au calcul)
df_clean <- df %>% select(-`Invoice ID`)
# d. Vérification des valeurs manquantes (NA)
manquants <- colSums(is.na(df_clean))
print("Nombre de valeurs manquantes par colonne :")
print(manquants)
# e. Vérification des doublons
doublons <- sum(duplicated(df_clean))
print(paste("Nombre de lignes en double :", doublons))
# a. Conversion de la colonne Date (format initial : MM/DD/YYYY)
df_clean$Date <- as.Date(df_clean$Date, format="%m/%d/%Y")
# b. Conversion des colonnes textuelles en "Facteurs" (Catégories)
# Cela permet à R de comprendre que 'City' ou 'Gender' sont des groupes
df_clean <- df_clean %>%
mutate(
Branch = as.factor(Branch),
City = as.factor(City),
`Customer type` = as.factor(`Customer type`),
Gender = as.factor(Gender),
`Product line` = as.factor(`Product line`),
Payment = as.factor(Payment)
)
str(df_clean)
skim(df_clean)
# install.packages("skimr")
library(skimr)
summary(df_clean)
library(dplyr)
library(knitr)
library(kableExtra)
# Résumé des variables numériques uniquement, bien formaté
df_clean %>%
select(where(is.numeric)) %>%
summary() %>%
as.table() %>%
kable(caption = "Résumé statistique des variables numériques") %>%
kable_styling(bootstrap_options = c("striped", "hover"))
View(df_clean)
summary(df_clean)
View(df)
View(df_clean)
# Calcul des ventes par catégorie de produits
product_sales <- df_clean %>%
group_by(`Product line`) %>%
summarise(
Quantite_Totale = sum(Quantity),
Revenu_Total = sum(Sales),
Note_Moyenne = mean(Rating)
) %>%
arrange(desc(Revenu_Total))
# Affichage du résultat
kable(product_sales, caption = "Performance par ligne de produits")
# Calcul des ventes par catégorie de produits
product_sales <- df_clean %>%
group_by(`Product line`) %>%
summarise(
Quantite_Totale = sum(Quantity),
Revenu_Total = sum(Sales),
Note_Moyenne = mean(Rating)
) %>%
arrange(desc(Revenu_Total))
# Affichage du résultat
kable(product_sales, caption = "Performance par ligne de produits")
View(product_sales)
# Graphique des revenus par catégorie
ggplot(product_sales, aes(x = reorder(`Product line`, Revenu_Total), y = Revenu_Total, fill = `Product line`)) +
geom_col() +
coord_flip() + # Pour mieux lire les noms de catégories
labs(
title = "Classement des catégories par Revenu",
x = "Catégorie",
y = "Ventes totales ($)"
) +
theme_minimal() +
guides(fill = FALSE)
# Analyse par jour de la semaine
sales_by_day <- df_clean %>%
mutate(Jour = wday(Date, label = TRUE, abbr = FALSE)) %>%
group_by(Jour) %>%
summarise(Ventes_Moyennes = mean(Sales))
# Graphique de l'activité hebdomadaire
ggplot(sales_by_day, aes(x = Jour, y = Ventes_Moyennes, group = 1)) +
geom_line(color = "steelblue", size = 1) +
geom_point(size = 3) +
labs(title = "Évolution des ventes moyennes par jour de la semaine") +
theme_light()
# Comparaison Homme/Femme par catégorie
ggplot(df_clean, aes(x = `Product line`, y = Sales, fill = Gender)) +
geom_boxplot() +
coord_flip() +
labs(title = "Répartition des dépenses par catégorie et par genre")
# Création du modèle
modele_ventes <- lm(Sales ~ `Unit price` + Quantity + `Product line`, data = df_clean)
# Affichage des résultats du modèle
summary(modele_ventes)
# Création du modèle
modele_ventes <- lm(Sales ~ `Unit price` + Quantity + `Product line`, data = df_clean)
# Affichage des résultats du modèle
summary(modele_ventes)
# Création du modèle
modele_ventes <- lm(Sales ~ `Unit price` + Quantity + `Product line`, data = df_clean)
# Affichage des résultats du modèle
summary(modele_ventes)
View(product_sales)
View(sales_by_day)
View(modele_ventes)
View(sales_by_day)
View(product_sales)
df <- read.csv("SuperMarket Analysis.csv", check.names = FALSE)
df %>% slice(1:10)
# Calcul des ventes par catégorie de produits
product_sales <- df_clean %>%
group_by(`Product line`) %>%
summarise(
Quantite_Totale = sum(Quantity),
Revenu_Total = sum(Sales),
Note_Moyenne = mean(Rating)
) %>%
arrange(desc(Revenu_Total))
# Affichage du résultat
kable(product_sales, caption = "Performance par ligne de produits") %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
shiny::runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
server <- function(input, output) {
panier_val <- reactive({
predict(modele_ventes, data.frame(`Unit price` = input$price, Quantity = input$qty,
`Product line` = input$prod, check.names = FALSE))
})
ca_global <- reactive({ panier_val() * input$n_clients * as.numeric(input$periode) })
couts_totaux <- reactive({ input$costs * as.numeric(input$periode) })
est_rentable <- reactive({ ca_global() >= couts_totaux() })
output$panier_moyen <- renderText({ paste0(round(panier_val(), 2), " $") })
output$ca_total <- renderText({ paste0(format(round(ca_global(), 0), big.mark = " "), " $") })
output$card_statut <- renderUI({
cls <- if(est_rentable()) "bg-success" else "bg-danger"
txt <- if(est_rentable()) "RENTABLE" else "DÉFICITAIRE"
card(
class = paste(cls, "text-white"),
card_header(span("Statut Financier", style = "opacity: 0.9;")),
div(class = "card-body d-flex align-items-center justify-content-center",
h1(txt, style = "font-weight: 800; letter-spacing: 1px;"))
)
})
output$graphique_renta <- renderPlot({
jours <- seq(1, as.numeric(input$periode))
df_p <- data.frame(Jours = jours, CA = jours * (panier_val() * input$n_clients), Seuil = jours * input$costs)
ggplot(df_p, aes(x = Jours)) +
geom_area(aes(y = CA), fill = "#3498db", alpha = 0.2) +
geom_line(aes(y = CA), color = "#3498db", size = 1.2) +
geom_line(aes(y = Seuil), color = "#e74c3c", size = 1, linetype = "dashed", alpha = 0.7) +
theme_minimal(base_family = "poppins") +
scale_y_continuous(labels = scales::label_dollar()) +
labs(y = NULL, x = "Jours écoulés") +
theme(
panel.grid.major = element_line(color = "#f0f0f0"),
panel.grid.minor = element_blank(),
axis.text = element_text(color = "#95a5a6")
)
})
}
runApp('Supermarket')
install.packages("showtext")
runApp('Supermarket')
install.packages("showtext")
runApp('Supermarket')
shiny::runApp('Supermarket')
shiny::runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
install.packages("plotly")
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
install.packages("shinyWidgets")
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
install.packages(c("shiny", "tidyverse", "bslib", "showtext", "DT", "plotly", "shinyWidgets", "flexdashboard"))
shiny::runApp('Supermarket')
install.packages("flexdashboard")
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
runApp('Supermarket')
shiny::runApp('Supermarket')
